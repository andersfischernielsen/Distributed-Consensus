% !TeX root = ../DistributedConsensus.tex
\chapter{Consensus of History in Distributed DCR Graphs}
\label{chap:consensusindcr}
	This chapter defines the validation of local and global histories across multiple events. It also defines how to determine when a history can be produced, and, if possible, which events have inconsistent history data.
	 
	\begin{definition}
		A \textit{\textbf{Valid History}} is a (possibly combined) history, H, for which ... applies. 
	\end{definition}
	
	\section{Validating histories}
	In order to validate a given history, the rules for validity in both history graphs and DCR graphs must be adhered to. 
	
	\subsection{History graph and DCR graph rules}
	Several rules must be adhered to for a history to be valid. These rules are both specific to the history graph and to DCR graphs in general. 
	
	\subsubsection{History Graph Rules}
	\textbf{Cycles:} A given history graph must not contain any cycles, since cycles in the history graph would imply that an action, $a1$, has occurred before another action, $a2$, but $a2$ has also occurred before $a1$. This is not possible in any execution, and a given history with cycles will therefore be invalid.
	
	\newpar \textbf{Mismatches in typestamps:} A given history graph must not contain any actions that have relations to actions with an invalid timestamp. This would imply that either an executing event has tampered with its outgoing action history or that an event affected by an execution has tampered with its ingoing action history. 
	
	\todo[inline]{Uddyb regler og tilf√∏j evt. en figur der viser mismatches mellem timestamps. }
	
	\subsubsection{DCR Rules}
	A given execution in a DCR graph must ... 
